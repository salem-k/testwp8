appContext.controller("LoadingController",["$scope","$state","LoginService","$ionicPlatform","$cordovaSQLite","LoadingService","$ionicHistory","MenuService","$rootScope","BuzcardService","ContactsService","ConnectionService",function($scope,$state,LoginService,$ionicPlatform,$cordovaSQLite,LoadingService,$ionicHistory,MenuService,$rootScope,BuzcardService,ContactsService,ConnectionService){var db=null;$ionicPlatform.ready(function(){if(window.cordova){db=$cordovaSQLite.openDB("buzcard.db")}else{db=window.openDatabase("buzcard.db","1","my",1024*1024*10)}LoadingService.loading("Chargement...");LoginService.selectCredentials(db,function(result){if(result==1){LoadingService.dismiss();window.localStorage.removeItem("dateSynchronisation");$state.go("app.login")}else{if(result.rows.length>0){LoadingService.dismiss();$state.go("app.buzcard")}else{LoadingService.dismiss();$state.go("app.login")}}})});$scope.dismiss=function(){LoadingService.dismiss()}}]);